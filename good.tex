\documentclass{article}
\usepackage[table]{xcolor}
\usepackage{tabularx}
\usepackage{minted2}
\usepackage[margin=1in]{geometry}
\usepackage{courier}
\usepackage{fvextra} % Better minted inside tables
\usepackage{comment}

% Colors
\definecolor{addgreen}{RGB}{220,255,220}
\definecolor{remred}{RGB}{255,220,220}
\definecolor{diffchar}{RGB}{180,250,180} % inline change
\definecolor{lightgray}{gray}{0.95}


\usemintedstyle{default}

% Minted config
\fvset{fontsize=\small, breaklines, breakanywhere=true, commandchars=\\\{\}}

% Use minted inline
\newcommand{\code}[1]{\mintinline{c}{#1}}

\begin{document}

% \begin{comment}
\begin{minted}{c}
\end{minted}
% \end{comment}

\begin{tabularx}{\linewidth}{r X r X}
\multicolumn{1}{c}{\textbf{\#}} & \multicolumn{1}{c}{\textbf{Old Code}} &
\multicolumn{1}{c}{\textbf{\#}} & \multicolumn{1}{c}{\textbf{New Code}} \\
\hline

% Unchanged line
1 & \code{int a = 5;} & 1 & \code{int a = 5;} \\

% Removed line (highlight only old side)
\cellcolor{remred}2 & \cellcolor{remred}\code{int b = 10;} & & \\

% Modified line with inline diff
\cellcolor{remred}3 & \cellcolor{remred}\code{int c = a + b;} &
\cellcolor{addgreen}2 & \cellcolor{addgreen}
\code{int c = a +} \fcolorbox{diffchar}{diffchar}{\ttfamily 15}\code{;} \\

% Added line
\cellcolor{remred} & \cellcolor{remred} & \cellcolor{addgreen}3 &
\cellcolor{addgreen}\code{int d = c * 2; a << 3; b & 7; for(int i = 0; i <=5; i++)} \\

\hline
\end{tabularx}

\end{document}
